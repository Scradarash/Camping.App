<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:Camping.App.ViewModels"
             x:Class="Camping.App.Views.StaanplaatsDetailView"
             BackgroundColor="#80000000">

    <Border Stroke="Gray"
            StrokeThickness="1"
            BackgroundColor="White"
            Padding="25"
            Margin="30"
            HorizontalOptions="Center"
            VerticalOptions="Center"
            WidthRequest="600"
            HeightRequest="550">

        <Border.StrokeShape>
            <RoundRectangle CornerRadius="15"/>
        </Border.StrokeShape>

        <Grid RowDefinitions="Auto, Auto, Auto, *, Auto" RowSpacing="15">

            <!-- Titel -->
            <Label Grid.Row="0" 
                   Text="{Binding Staanplaats.Name}" 
                   FontSize="24" 
                   FontAttributes="Bold" 
                   TextColor="Black"
                   HorizontalOptions="Center"/>

            <!-- Periode -->
            <Label Grid.Row="1" 
                   Text="{Binding PeriodeTekst}"
                   TextColor="#416722"
                   FontSize="16"
                   HorizontalOptions="Center"/>

            <!-- Scheidingslijn -->
            <BoxView Grid.Row="2" HeightRequest="1" Color="LightGray" />

            <!-- HOOFD INHOUD (2 Kolommen) -->
            <Grid Grid.Row="3" ColumnDefinitions="*, Auto" ColumnSpacing="20">

                <!-- LINKER KOLOM: Beschrijving + Lijst -->
                <ScrollView Grid.Column="0">
                    <VerticalStackLayout Spacing="15">

                        <!-- Beschrijving -->
                        <Label Text="{Binding Staanplaats.Description}"
                               TextColor="Black"
                               FontSize="15"
                               LineBreakMode="WordWrap" />

                        <!-- Lijst Accommodaties -->
                        <VerticalStackLayout>
                            <Label Text="Toegestaan:" 
                                   FontAttributes="Bold" 
                                   FontSize="14"
                                   TextColor="Gray"
                                   Margin="0,0,0,5"/>

                            <CollectionView ItemsSource="{Binding GeschikteAccommodaties}"
                                            SelectionMode="None">
                                <CollectionView.ItemTemplate>
                                    <DataTemplate>
                                        <Border Stroke="Transparent" 
                                                BackgroundColor="#F0F0F0" 
                                                Padding="10,5" 
                                                Margin="0,3"
                                                HorizontalOptions="Start">
                                            <Border.StrokeShape>
                                                <RoundRectangle CornerRadius="5"/>
                                            </Border.StrokeShape>
                                            <Label Text="{Binding Name}" 
                                                   TextColor="#333"
                                                   FontSize="14"
                                                   FontAttributes="Bold"/>
                                        </Border>
                                    </DataTemplate>
                                </CollectionView.ItemTemplate>
                            </CollectionView>
                        </VerticalStackLayout>
                    </VerticalStackLayout>
                </ScrollView>

                <!-- RECHTER KOLOM: Voorzieningen -->
                <VerticalStackLayout Grid.Column="1" Spacing="10" WidthRequest="100">
                    <Label Text="Voorzieningen:" 
                           FontAttributes="Bold" 
                           FontSize="12"
                           TextColor="Gray"
                           HorizontalOptions="Center"/>

                    <!-- Stroom Icoon -->
                    <Border IsVisible="{Binding Staanplaats.HasElectricity}"
                            Stroke="LightGray"
                            StrokeThickness="1"
                            BackgroundColor="#FAFAFA"
                            Padding="10"
                            HorizontalOptions="Center">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="10"/>
                        </Border.StrokeShape>
                        <VerticalStackLayout>
                            <Label Text="âš¡" FontSize="24" HorizontalOptions="Center"/>
                            <Label Text="Stroom" FontSize="10" TextColor="Gray" HorizontalOptions="Center"/>
                        </VerticalStackLayout>
                    </Border>

                    <!-- Water Icoon -->
                    <Border IsVisible="{Binding Staanplaats.HasWater}"
                            Stroke="LightGray"
                            StrokeThickness="1"
                            BackgroundColor="#FAFAFA"
                            Padding="10"
                            HorizontalOptions="Center">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="10"/>
                        </Border.StrokeShape>
                        <VerticalStackLayout>
                            <Label Text="ðŸ’§" FontSize="24" HorizontalOptions="Center"/>
                            <Label Text="Water" FontSize="10" TextColor="Gray" HorizontalOptions="Center"/>
                        </VerticalStackLayout>
                    </Border>
                </VerticalStackLayout>
            </Grid>

            <!-- Knoppen -->
            <Grid Grid.Row="4" ColumnDefinitions="*,*" ColumnSpacing="15" Margin="0,10,0,0">
                <Button Grid.Column="0" 
                        Text="Annuleer" 
                        Command="{Binding AnnuleerCommand}" 
                        BackgroundColor="Gray" 
                        TextColor="White"
                        HeightRequest="50"
                        CornerRadius="10"/>

                <Button Grid.Column="1" 
                        Text="Reserveer" 
                        Command="{Binding ReserveerCommand}" 
                        BackgroundColor="#0a5dc9" 
                        TextColor="White"
                        HeightRequest="50"
                        CornerRadius="10"/>
            </Grid>
        </Grid>
    </Border>
</ContentPage>